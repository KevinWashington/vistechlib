<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles2.css"> 
</head>

<body>
    <!-- pagina de cadastro informçõe usuario -->
    <div id="paginaInicial">
        <header>
            <img class="h-24" src="./Imagem/logo_labvis.svg" alt="">
        </header>
        <div class="centro">
            <h1>Bem-vindo ao teste </h1>
            <form>
                <div class="form">
                    <h2>Formulário de Informações do Usuário</h2>                    
                    <select id="idade" class="select-largo">
                        <option value="">Selecione a faixa etária</option>
                        <option value="0-18">0 - 18 anos</option>
                        <option value="19-30">19 - 30 anos</option>
                        <option value="31-45">31 - 45 anos</option>
                        <option value="46-60">46 - 60 anos</option>
                        <option value="61+">61+ anos</option>
                    </select>
                    <input type="text" id="grauEscolaridade" class="input-largo" placeholder="Grau de escolaridade"><br>
                    <input type="text" id="curso" class="input-largo" placeholder="Curso"><br>
                    <!-- Questionario dia do cara -->
                    <label>Por favor, responda a seguinte pergunta:</label>
                    <div class="likert">
                        <label>Como está seu dia ?: <br><br></label>
                        <label for="likert1">Mutio ruim</label>
                        <input type="radio" id="likert1" class="input-likert" name="likert1" value="1">
                        <input type="radio" name="likert1" class="input-likert" value="2">
                        <input type="radio" name="likert1" class="input-likert" value="3">
                        <input type="radio" name="likert1" class="input-likert" value="4">
                        <input type="radio" name="likert1" class="input-likert" value="5">
                        <label for="likert1">Muito bom</label>
                    </div>
                </div>
            </form>
            <button type="button" onclick="capturarDados(); irParaPagina2();"
                style="margin-top: 20px;">Concluir</button>

        </div>
    </div>

    <script>

        function capturarDados() {
            // var id = 0;
            // localStorage.setItem("id", id);
            // localStorage.clear();

            var id = parseInt(localStorage.getItem("id")) || 0;
            // Incrementa o ID
            id++;
            // Salva o novo valor do ID no localStorage
            localStorage.setItem("id", id);
            console.log(id);

            var idade = document.getElementById("idade").value;
            var grauEscolaridade = document.getElementById("grauEscolaridade").value;
            var curso = document.getElementById("curso").value;
            // Capturar o valor selecionado
            var valorlikert = document.querySelector('input[name="likert1"]:checked').value;
            // Armazenar dados no localStorage
            localStorage.setItem("id", id);
            // localStorage.setItem("email", email);
            localStorage.setItem("idade", idade);
            localStorage.setItem("grauEscolaridade", grauEscolaridade);
            localStorage.setItem("curso", curso);
            // Armazenar o valor no localStorage
            localStorage.setItem("respostaLikert", valorlikert);
        }
        function irParaPagina2() {
            // Redirecionar para a página 2
            window.location.href = "test_user_barchart.html";
        }
    </script>

</body>

</html>